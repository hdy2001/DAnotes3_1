# 实验二 常用网络服务配置

<center>何东阳 自96 2019011462</center>

## 1 实验目的

通过实验熟悉常用网络服务的基本原理和基于客户机/服务器的服务模式, 掌握各项服务的服务原理, 练习常用网络服务的配置方法。

## 2 实验内容

1. 在 windows 环境练习下配置 DNS 服务, 理解域名服务的解析原理和层次关系及相关概 念。
2. 在 windows 环境中用 Apache HTTP Server 开设 WWW 服务, 安装配置 PHP 动态网页编 辑环境。
3. 利用 SERV-U 实现 ftp 服务，并针对不同用户、地址或端口进行授权访问;
4. 掌握 DHCP 服务器的安装与设置, 了解 DHCP 的含义及工作原理,了解 DHCP 客户机的设 置;

## 3 具体实验

### 3.1 DNS服务器的配置

#### 3.1.1 实验步骤

1. 安装 DNS 服务器
2. 配置新的 DNS 服务器
3. 添加资源记录
4. 设置 DNS 的属性
5. 设置 DNS 客户机与测试

#### 3.1.2 实验图片

<img src="实验二.assets/image-20211030222126099.png" alt="image-20211030222126099" style="zoom:50%;" />

### 3.2  用 Apache HTTP Server 开设 WWW 服务

#### 3.2.1 实验步骤

1. Apache 服务器安装与配置, 了解配置 web 服务
2. PHP 安装与配置
3. 使用 PHP 完成网页计数器和动态显示图片功能

#### 3.2.2 实验图片

<img src="实验二.assets/IMG_6197.JPG" alt="IMG_6197" style="zoom:50%;" />

<img src="实验二.assets/IMG_6198.JPG" alt="IMG_6198" style="zoom:50%;" />

<img src="实验二.assets/IMG_6199.JPG" alt="IMG_6199" style="zoom:50%;" />

![IMG_6200](实验二.assets/IMG_6200-5603862.JPG)

### 3.3 架设 ftp 服务器

#### 3.3.1 实验步骤

1. Serv-U 的下载和安装。
2. Serv-U 的配置。
3. FTP 的访问。

#### 3.3.2 实验图片

<img src="实验二.assets/image-20211030222217055.png" alt="image-20211030222217055" style="zoom:50%;" />

### 3.4 DHCP 服务器的配置

#### 3.3.1 实验步骤

1. 安装DHCP服务
2. 配置DHCP服务器
3. 管理DHCP服务器
4. 管理DHCP客户机

#### 3.3.2 实验图片

<img src="实验二.assets/image-20211030222153206.png" alt="image-20211030222153206" style="zoom:70%;" />

## 4 思考

### 4.1 DNS服务器的配置

1. **存储在 DNS 数据库中的数据是静态的还是动态的？如何更新？**

   存储在DNS数据库中的数据是动态的。DNS服务器的作用是解析用户请求的域名，当用户连接DNS服务器时，用户的IP地址会被传给DNS服务器，DNS服务器更新自己的数据库，同时如果数据库中没有用户请求的地址，DNS会向上一级服务器请求，并且更新自己的缓存。

2. **在创建的 DN 中添加了正向搜索的主机记录，为什么还要添加反向搜索记录？**

   正向搜索是将域名解析为IP地址，而反向搜索是将IP地址解析成域名。客户机可以通过反向搜索确定对应的域名，增加了安全性。

3. **在上级域名服务器中修改某域名对应的 IP 地址且配置正确，在客户端测试中发现没有 生效，为什么？**

   首先确定配置是否正确（可通过nslookup指令），如果确认无误，可能是因为域名修改的广播需要一定时间，如果记录没有及时更新，客户端测试则无法生效。

4. **实验中只给出了添加主机记录的部分，如果在该域中要添加一个下级子域，如何操作？**

   右键点击该域，选择“新建域”。

### 4.2 用 Apache HTTP Server 开设 WWW 服务

1. **在 Apache Group\Apache\conf\httpd.conf 文件中，了解其他选项，比如，如何修改服务器 IP 地址和端口，默认首页文件名，如何设置虚拟目录等。**

   修改服务器 IP 地址和端口：去掉文件中`\#Listen(ipv4):port`代码中的`#`，修改ipv4更改服务器地址，修改port更改端口。

   默认首页文件名：在文件中添加一行`DirectoryIndex(name).html`，更改为`x.html`即可，x为你想修改的名字。

   设置虚拟目录：修改代码`Alias(virtual directory)"(real directory)"`，将real directory修改为真实路径即可通过虚拟路径访问。

2. **比较使用 wingdows 网络组件 IIS 开设 web 服务和 Apache 开设 Web 服务各自的优劣。**

   | 比较     | IIS                | Apache       |
   | -------- | ------------------ | ------------ |
   | 稳定程度 | 偶尔出现崩溃       | 稳定         |
   | 安全方面 | 旧版本存在安全隐患 | 安全         |
   | 可扩展度 | 仅支持windows      | 可支持范围广 |
   | 开放程度 | 闭源               | 开源         |
   | 难易程度 | 安装容易           | 安装困难     |
   | 支持语言 | PHP、JSP不友好     | 支持多方语言 |
   | 费用情况 | 付费               | 免费         |

3. **论坛实验中，没有涉及后台数据库。如果后台为 access 数据库，如何使用 PHP 建立和数据库的连接？**

   ```php
   $conn = new com("ADODB.Connection");
   $connstr = "DRIVER={Microsoft Access Driver (*.mdb)}; DBQ=" . 
   realpath("test.mdb");
   $conn->Open($connstr);
   ```

4. **了解 Php 语言的使用以及除论坛外的其他应用。**

   PHP常用于网页的开发，主要用途有：开发个人博客；开发电子商城（阿里巴巴早期）；开发后台管理系统；许多其他的web服务。

### 4.3 DHCP 服务器的配置

1. **DHCP 服务器是否可以选择自动获得 IP 地址？**

   可以，DHCP服务器本身采用动态主机协议。

2. **DHCP 服务为何要实现保留 IP 地址功能，其在网络地址管理中有什么好处？在作保留 IP 地址时，为什么要先记录需保留 IP 地址的客户机的网卡的物理地址？**

   保留 IP 地址功能给指定网卡的MAC地址分配特定的IP地址，使这个IP地址可以被该网卡专用，这个功能能够处理计算机需要每次获得同一个IP的情况。

   保留网卡地址也是因为为了将用户网卡物理地址与固定IP绑定。

3. **客户计算机从 DHCP 服务器获得租约要经过几个步骤？**

   共四个步骤：

   

4. **如果客户机设置了自动获取 IP 地址，当登录到局域网后，用 ipconfig 查看 IP 地址 时，显示的 IP 地址为 169.254.16.2，可以判断有什么问题？**

   

5. **假设为 DHCP 服务器创建一个名为 shixun 的作用域，该作用域 IP 地址的范围是 192.168.0.1~192.168.0.254，可否包括 192.168.0.0 和 192.168.0.255 这两个地址？**

   

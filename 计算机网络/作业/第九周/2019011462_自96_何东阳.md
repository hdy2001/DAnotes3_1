1. | WAN端            | LAN端          |
   | ---------------- | -------------- |
   | 138.7.29.7, 5001 | 10.0.0.1, 3346 |
   | 138.7.29.7, 5001 | 10.0.0.2, 3345 |
   | 138.7.29.7, 5001 | 10.0.0.2, 3346 |
   | 138.7.29.7, 5001 | 10.0.0.3, 3345 |
   | 138.7.29.7, 5001 | 10.0.0.3, 3346 |

2. | 匹配                                                         | 动作        |
   | ------------------------------------------------------------ | ----------- |
   | Ingress port =2 ; IP src=10.1 . * . * ; IP dst =10.3 . * . * | Forward (1) |
   | Ingress port =1 ; IP src =10.3 .* . * IP dst =10.1. \*.\*    | Forward (2) |
   | IP dst =10. 2 .0 .4                                          | Forward (4) |
   | IP dst =10. 2. 0. 3                                          | Forward (3) |
   | IP src = 10. 2. 0. 3 ; IP dst = 10. 2. 0. 4                  | Forward (4) |
   | IP src =10. 2 .0 .4 ; IP dst = 10. 2. 0. 3                   | Forward (3) |

3. | step |   N'    | D(z),p(z) | D(y),p(y) | D(v),p(v) | D(w),p(w) | D(u),p(u) | D(t),p(t) |
   | :--: | :-----: | :-------: | :-------: | :-------: | :-------: | :-------: | :-------: |
   |  0   |    x    |    8,x    |    6,x    |    3,x    |    6,x    |     -     |     -     |
   |  1   |   xv    |    8,x    |    6,x    |    3,x    |    6,x    |    6,v    |    7,v    |
   |  2   |   xvu   |    8,x    |    6,x    |    3,x    |    6,x    |    6,v    |    7,v    |
   |  3   |  xvuy   |    8,x    |    6,x    |    3,x    |    6,x    |    6,v    |    7,v    |
   |  4   |  xvuyw  |    8,x    |    6,x    |    3,x    |    6,x    |    6,v    |    7,v    |
   |  5   | xvuywt  |    8,x    |    6,x    |    3,x    |    6,x    |    6,v    |    7,v    |
   |  6   | xvuywtz |    8,x    |    6,x    |    3,x    |    6,x    |    6,v    |    7,v    |





4. 



   |  Dz  |  x   |  y   |  u   |  v   |
   | :--: | :--: | :--: | :--: | :--: |
   |      |  2   |  5   |  6   |  5   |

$$
      d_z(x) = 2\\
      d_z(y) = min\{c(z,x)+d_x(y),c(z,v)+d_v(y)\} = 5\\
      d_z(v) = min\{c(z,x)+d_x(v),d_z(v)\} = 5\\
      d_z(u) = min\{c(z,x)+d_x(u),c(z,v)+d_v(u)\}\\
      又d_x(u) = min\{c(x,y)+d_y(u),c(x,v)+d_v(u),c(x,z)+d_z(u)\} = 4\\
      故d_z(u) = 6\\
$$

   


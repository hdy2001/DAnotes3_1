1. (a): 

   **DHCP服务器是怎么回事？**

   s3转发表

   | MAC addr |    interface     |
   | :------: | :--------------: |
   |    K     | S4与S3相连的端口 |

   s4转发表

   | MAC addr |   **interface**   |
   | :------: | :---------------: |
   |    K     | S4与S1相连的端口  |
   |    A     | S4与S2相连的端口  |
   |    D     | S4与hub相连的端口 |

   (b):

   s3转发表

   | MAC addr |    interface     |
   | :------: | :--------------: |
   |    K     | S4与S3相连的端口 |
   |    A     | S4与S3相连的端口 |

   s4转发表

   | MAC addr |   **interface**   |
   | :------: | :---------------: |
   |    K     | S4与S1相连的端口  |
   |    A     | S4与S2相连的端口  |
   |    D     | S4与hub相连的端口 |

   (c):

   s3转发表

   | MAC addr |    interface     |
   | :------: | :--------------: |
   |    A     | S4与S3相连的端口 |
   |    I     | S3与I相连的端口  |
   |    K     | S4与S3相连的端口 |

   s4转发表

   | MAC addr |   **interface**   |
   | :------: | :---------------: |
   |    K     | S4与S1相连的端口  |
   |    A     | S4与S2相连的端口  |
   |    D     | S4与hub相连的端口 |
   |    I     | S4与S3相连的端口  |

   (d)

   s3转发表

   | MAC addr |    interface     |
   | :------: | :--------------: |
   |    A     | S4与S3相连的端口 |
   |    I     | S3与I相连的端口  |

   s4转发表

   | MAC addr |   **interface**   |
   | :------: | :---------------: |
   |    K     | S4与S1相连的端口  |
   |    A     | S4与S2相连的端口  |
   |    D     | S4与hub相连的端口 |
   |    I     | S4与S3相连的端口  |
   |    E     | S4与hub相连的端口 |

2. 主机A获得IP，发现A和I不在一个子网下，A发出源ip为 192.168.0.101，目的 ip 为 192.168 .1 .101 ，源MAC地址为A，目的MAC地址为网关R1的数据报。该数据报从2号接口进入交换机，网关R1根据路由表再确定转发端口，并且根据ARP协议获得主机的IP所对应的MAC地址，将数据报的目的MAC改写为主机的MAC地址，交换机根据表中对应主机MAC地址所对应的接口进行转发。数据报经过VLAN线到达另一交换机，交换机根据转发表中数据确定I的MAC地址对应 的是接口7，进行转发。主机的网卡接收到对应MAC的数据报，拆封发现，目的IP对应主机的IP。

3. （1）一条流可能的最大速率为 10Gbps/80=125Mbps。 

   （2）第 1 个第二层交换机到第 3 个第二层交换机之间有 4 条路经，所以从 1-4 号机架到 9- 12 号机架之间的总带宽为 40Gbps，共有 40 个流，所以一条流的最大速率为 1Gbps；同理从 5-8 号机架到 13-16 号机架之间的总带宽也为 40Gbps。故最大为1Gbps

   （3）假设同样的流量模式下，每个机架改为 30 台主机和 240对流，试确定这两种拓扑 下的最大流速率。 

   第一种：这时的瓶颈在接入路由和边界路由之间的链路，由 160 条流共享，所以一条流可能的最大速率为 10Gbps/240=41.7Mbps。 第二种：从 1-4 号机架到 9-12 号机架之间的总带宽为 40Gbps，平均每个机架的带宽为 10Gbps，有 30 台主机（30 对流），每条流可以分配 0.33Gbps。

